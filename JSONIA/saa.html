<!DOCTYPE html>

<html lang="fi">

<head>

  <title>JSON Example</title>  

  <meta charset="utf-8">

  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="tyylia.css">

  </head>

<body>

    <div id="vastaus">
        <script>

        function kerro(data){

        var teksti = "";
        
        teksti = teksti + "Kaupunki: " + data.name + "<br>";
        teksti = teksti + "Sää: " + data.weather[0].description + "<br>"; 
        teksti = teksti + "Lämpötila: " + (data.main.temp - 273).toFixed(2) + "°C" + "<br>";
        teksti = teksti + "Tuulen nopeus: " +  data.wind.speed + " m/s<p>";

      

        document.getElementById("vastaus").innerHTML = teksti;

}
            fetch('https://api.openweathermap.org/data/2.5/weather?lat=60.1699&lon=24.9384&appid=665ecd56dfc08dbb50feb8b8f5034e28&lang=fi')
            .then(function (response) {

        return response.json();


        }) 
        .then(function (responseJson) {

                kerro(responseJson);

        }) 
        .catch(function (error) {

            document.getElementById("vastaus").innerHTML = "<p>Tietoa ei pystytä hakemaan</p>";


    })
        </script>
    </div>

</body>

<nav>
    <a href="kurssi.html">Edellinen sivu</a>
</nav>

</html>